<div class="content-conatiner">
  <page-header [title]="'แพทย์'" [label]="'เพิ่มแพทย์'" (onClickButton)="openCreate()">
  </page-header>
  <ng-container *ngIf="listDoctor.length; else noData">
    <ng-container *ngFor="let item of listDoctor">
      <div class="grid-custom p-2">
        <div class="col-4 w-full">
          <div class="shadow-2 border-round-lg cursor-pointer">
            <div>
              <img src="{{ item.img || 'https://prakashhospitals.in/wp-content/uploads/2021/02/female-doc.png'}}"
                class="grid-img">
            </div>
            <div class="flex flex-column px-3 pb-2">
              <div class="text-center text-2xl font-bold">{{ item.prefix + item.firstName + " " + item.lastName}}</div>
              <div class="text-center text-lg text-gray-500"> {{ item.position || "adasd" }}</div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </ng-container>
  <ng-template #noData>
    <no-datalist [message]="'ข่าวสาร'" [buttonLabel]="'เพิ่มข่าวสาร/ประชาสัมพันธ์'"></no-datalist>
  </ng-template>
</div>


<p-dialog header="แพทย์" [(visible)]="visibleCreateDortor" [style]="{width: '50vw'}" (visibleChange)="resetForm()">
  <div [formGroup]="formData">
    <div class="grid mb-3">
      <div class="col-12 -mb-2">
        <label class="required"> คำนำหน้า </label>
      </div>
      <div class="col-12">
        <input type="text" placeholder="คำนำหน้า" class="p-inputtext-sm" pInputText formControlName="prefix">
      </div>
    </div>

    <div class="grid mb-3">
      <div class="col-12 -mb-2">
        <label class="required"> ชื่อ </label>
      </div>
      <div class="col-12">
        <input type="text" placeholder="ชื่อ" class="p-inputtext-sm" pInputText formControlName="firstName">
      </div>
    </div>

    <div class="grid mb-3">
      <div class="col-12 -mb-2">
        <label class="required"> นามสกุล </label>
      </div>
      <div class="col-12">
        <input type="text" placeholder="นามสกุล" class="p-inputtext-sm" pInputText formControlName="lastName">
      </div>
    </div>

    <div class="grid mb-3">
      <div class="col-12 -mb-2">
        <label class="required"> ตำแหน่ง </label>
      </div>
      <div class="col-12">
        <input type="text" placeholder="ตำแหน่ง" class="p-inputtext-sm" pInputText formControlName="lastName">
      </div>
    </div>

    <div class="grid mb-3">
      <div class="col-12 -mb-2">
        <label class="required"> รูปภาพ </label>
      </div>
      <div class="col-12">
        <input type="text" placeholder="รูปภาพประจำตัว" class="p-inputtext-sm mb-2" pInputText
          formControlName="url">
        <p-fileUpload #fileUploader mode="basic" chooseIcon="pi pi-upload" name="demo[]"
          accept="image/png,image/jpeg,image/gif,application/pdf" [chooseLabel]="'อัพโหลดไฟล์'" [auto]="true"
          [maxFileSize]="10000000" [multiple]="false" [customUpload]="true" (uploadHandler)="onUpload($event)">
        </p-fileUpload>
      </div>
    </div>

    <p-divider></p-divider>
    <div class="flex justify-content-end">
      <button pButton class="p-button-success p-button-sm w-full" icon="pi pi-save" label="เพิ่ม"
        (click)="createDoctor()"></button>
    </div>
  </div>
</p-dialog>